function resizer(selector,{minFontSize:minFontSize=12,maxFontSize:maxFontSize=96,checkWidth:checkWidth=false,checkHeight:checkHeight=false,wordWrap:wordWrap=false,resizer:resizer=true,timeout:timeout=100,resize:resize=1,maxProbs:maxProbs=300}={}){addEventListener("DOMContentLoaded",(event=>{setTimeout((function(){if((typeof resizer==="boolean"?resizer!=true:resizer!="true")||!resizer){return}var container=document.querySelectorAll(selector)[0];var text=container.firstElementChild;console.log("Start of script");console.log("Before resize Container height:",container.offsetHeight);console.log("Before resize Text height:",text.scrollHeight);console.log("Before resize Container width:",container.offsetWidth);console.log("Before resize Text width:",text.scrollWidth);console.log(text);text.style="";if(wordWrap){text.style["word-wrap"]="normal"}else{text.style["white-space"]="nowrap"}for(let i=0;i<resize;i++){const resizerInstance=new Resizer;resizerInstance.container=container;resizerInstance.text=text;resizerInstance.minFontSize=minFontSize;resizerInstance.maxFontSize=maxFontSize;resizerInstance.wordWrap=wordWrap;resizerInstance.checkWidth=checkWidth;resizerInstance.checkHeight=checkHeight;resizerInstance.maxProbs=maxProbs;resizerInstance.resizeToFit()}var container=document.querySelectorAll(selector)[0];var text=container.firstElementChild;var fontSize=window.getComputedStyle(text).fontSize;console.log(fontSize);console.log("After resize Container height:",container.scrollHeight);console.log("After resize Text height:",text.offsetHeight);console.log("After resize Container width:",container.offsetWidth);console.log("After resize Text width:",text.scrollWidth);console.log(text);console.log("End of script");console.log()}),timeout)}))}class Resizer{container;text;minFontSize;maxFontSize;wordWrap;checkWidth;checkHeight;maxProbs;probs;fontSize;constructor(container,text,minFontSize,maxFontSize,wordWrap,checkWidth,checkHeight,maxProbs){this.container=container;this.text=text;this.minFontSize=minFontSize;this.maxFontSize=maxFontSize;this.wordWrap=wordWrap;this.checkWidth=checkWidth;this.checkHeight=checkHeight;this.maxProbs=maxProbs;this.probs=0}resizeToFit(){if(this.text.offsetHeight==0||this.container.offsetHeight==0){console.log("Nothing to resize!");return}this.resizeFont();if(this.probs>=this.maxProbs){console.log("Reached max probation number!");return}if(this.checkWidth&&!this.checkHeight){this.resizeToWidth()}if(this.checkHeight&&!this.checkWidth){this.resizeToHeight()}if(this.checkWidth&&this.checkHeight){this.resizeToContainer()}}increaseFontSize(){this.text.style.fontSize=parseFloat(this.fontSize)+1+"px";this.probs++}decreaseFontSize(){this.text.style.fontSize=parseFloat(this.fontSize)-1+"px";this.probs++}resizeFont(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){console.log("Increasing font size because it is smaller than min font size!");this.makeFontSizeBigger();return}if(this.fontSize>this.maxFontSize){console.log("Reducing font size because it is bigger than max font size!");this.makeFontSizeSmaller();return}if(this.text.scrollHeight<this.container.offsetHeight&&this.wordWrap){console.log("Increasing font size!");this.makeFontSizeBigger();return}if(this.text.scrollHeight>=this.container.offsetHeight&&this.wordWrap){console.log("Reducing font size!");this.makeFontSizeSmaller();return}if(this.text.scrollWidth<this.container.offsetWidth&&!this.wordWrap){console.log("Increasing font size!");this.makeFontSizeBigger();return}if(this.text.scrollWidth>=this.container.offsetWidth&&!this.wordWrap){console.log("Reducing font size!");this.makeFontSizeSmaller();return}}resizeToWidth(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){console.log("Increasing font size because it is smaller than min font size!");this.makeFontSizeBigger(1);return}if(this.fontSize>this.maxFontSize){console.log("Reducing font size because it is bigger than max font size!");this.makeFontSizeSmaller(1);return}if(this.text.scrollWidth<this.container.offsetWidth){console.log("Increasing font size!");this.makeFontSizeBigger(1);return}if(this.text.scrollWidth>=this.container.offsetWidth){console.log("Reducing font size!");this.makeFontSizeSmaller(1);return}}resizeToHeight(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){console.log("Increasing font size because it is smaller than min font size!");this.makeFontSizeBigger(0);return}if(this.fontSize>this.maxFontSize){console.log("Reducing font size because it is bigger than max font size!");this.makeFontSizeSmaller(0);return}if(this.text.scrollHeight<this.container.offsetHeight){console.log("Increasing font size!");this.makeFontSizeBigger(0);return}if(this.text.scrollHeight>=this.container.offsetHeight){console.log("Reducing font size!");this.makeFontSizeSmaller(0);return}}resizeToContainer(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){console.log("Increasing font size because it is smaller than min font size!");this.makeFontSizeBigger();return}if(this.fontSize>this.maxFontSize){console.log("Reducing font size because it is bigger than max font size!");this.makeFontSizeSmaller();return}if(this.text.scrollHeight<this.container.offsetHeight&&this.text.scrollWidth<this.container.offsetWidth){console.log("Increasing font size!");this.makeFontSizeBigger();return}if(this.text.scrollHeight>=this.container.offsetHeight&&this.text.scrollWidth>=this.container.offsetWidth){console.log("Reducing font size!");this.makeFontSizeSmaller();return}}makeFontSizeBigger(mode=2){if(this.probs>=this.maxProbs){console.log("Reached max probation count!");return}this.fontSize=window.getComputedStyle(this.text).fontSize;console.log("Increase font size:",this.fontSize,this.text.scrollHeight,this.text.scrollWidth,mode);if(parseFloat(this.fontSize)>=this.maxFontSize){console.log("Reached max font size",this.maxFontSize);return}if(this.text.scrollWidth<this.container.offsetWidth&&mode==0){this.increaseFontSize();this.makeFontSizeBigger(mode);return}if(this.text.scrollHeight<this.container.offsetHeight&&mode==1){this.increaseFontSize();this.makeFontSizeBigger(mode);return}if(this.text.scrollWidth<this.container.offsetWidth&&this.text.scrollHeight<this.container.offsetHeight&&mode==2){this.increaseFontSize();this.makeFontSizeBigger(mode);return}}makeFontSizeSmaller(mode=2){if(this.probs>=this.maxProbs){console.log("Reached max probation count!");return}this.fontSize=window.getComputedStyle(this.text).fontSize;console.log("Decreasing font size:",this.fontSize,this.text.scrollHeight,this.text.scrollWidth,mode);if(parseFloat(this.fontSize)<=this.minFontSize){console.log("Reached min font size",this.minFontSize);return}if(this.text.scrollWidth>=this.container.offsetWidth&&mode==0){this.decreaseFontSize();this.makeFontSizeSmaller(mode);return}if(this.text.scrollHeight>=this.container.offsetHeight&&mode==1){this.decreaseFontSize();this.makeFontSizeSmaller(mode);return}if(this.text.scrollWidth>=this.container.offsetWidth||this.text.scrollHeight>=this.container.offsetHeight&&mode==2){this.decreaseFontSize();this.makeFontSizeSmaller(mode);return}}}