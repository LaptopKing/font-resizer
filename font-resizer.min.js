var debugTable=[];function resizer(selector,{minFontSize:minFontSize=12,maxFontSize:maxFontSize=96,checkWidth:checkWidth=false,checkHeight:checkHeight=false,wordWrap:wordWrap=false,resizer:resizer=true,timeout:timeout=100,resize:resize=1,maxProbs:maxProbs=300,debug:debug=false}={}){try{document.addEventListener("readystatechange",(event=>{var container=document.querySelectorAll(selector)[0];if(document.readyState!=="complete"&&!container){console.log("Page is not loaded yet");return}setTimeout((function(){if((typeof resizer==="boolean"?resizer!=true:resizer!="true")||!resizer){return}var container=document.querySelectorAll(selector)[0];var text=container.firstElementChild;if(!container||container.innerText==""||!text||text.innerText==""){return}debugTable.push({message:"Start of script",function:"resizer"});debugTable.push({message:container,function:"resizer"});debugTable.push({message:text,function:"resizer"});debugTable.push({message:`Before resize Container height: ${container.offsetHeight}`,function:"resizer"});debugTable.push({message:`Before resize Text height: ${text.scrollHeight}`,function:"resizer"});debugTable.push({message:`Before resize Container width: ${container.offsetWidth}`,function:"resizer"});debugTable.push({message:`Before resize Text width: ${text.scrollWidth}`,function:"resizer"});text.style="";if(wordWrap){text.style["word-wrap"]="normal"}else{text.style["white-space"]="nowrap"}for(var i=0;i<resize;i++){debugTable.push({message:"Running resizer",function:"resizer"});var resizerInstance=new Resizer;resizerInstance.container=container;resizerInstance.text=text;resizerInstance.minFontSize=minFontSize;resizerInstance.maxFontSize=maxFontSize;resizerInstance.wordWrap=wordWrap;resizerInstance.checkWidth=checkWidth;resizerInstance.checkHeight=checkHeight;resizerInstance.maxProbs=maxProbs;resizerInstance.resizeToFit()}var container=document.querySelectorAll(selector)[0];var text=container.firstElementChild;var fontSize=window.getComputedStyle(text).fontSize;debugTable.push({message:`Final font size: ${fontSize}`,function:"resizer"});debugTable.push({message:`After resize Container height: ${container.scrollHeight}`,function:"resizer"});debugTable.push({message:`After resize Text height: ${text.offsetHeight}`,function:"resizer"});debugTable.push({message:`After resize Text height: ${text.offsetHeight}`,function:"resizer"});debugTable.push({message:`After resize Container width: ${container.offsetWidth}`,function:"resizer"});debugTable.push({message:`After resize Text width: ${text.scrollWidth}`,function:"resizer"});debugTable.push({message:container,function:"resizer"});debugTable.push({message:text,function:"resizer"});debugTable.push({message:"End of script",function:"resizer"});if(debug){console.table(debugTable)}debugTable=[]}),timeout)}))}catch(error){console.error("Error in font resizer:",error)}}var Resizer=class{container;text;minFontSize;maxFontSize;wordWrap;checkWidth;checkHeight;maxProbs;probs;fontSize;constructor(container,text,minFontSize,maxFontSize,wordWrap,checkWidth,checkHeight,maxProbs){this.container=container;this.text=text;this.minFontSize=minFontSize;this.maxFontSize=maxFontSize;this.wordWrap=wordWrap;this.checkWidth=checkWidth;this.checkHeight=checkHeight;this.maxProbs=maxProbs;this.probs=0}resizeToFit(){if(this.text.offsetHeight==0||this.container.offsetHeight==0){debugTable.push({message:"Nothing to resize",function:"resizeToFit"});return}this.resizeFont();if(this.probs>=this.maxProbs){debugTable.push({message:"Reached maximum probation number",function:"resizeToFit"});return}if(this.checkWidth&&!this.checkHeight){this.resizeToWidth()}if(this.checkHeight&&!this.checkWidth){this.resizeToHeight()}if(this.checkWidth&&this.checkHeight){this.resizeToContainer()}}increaseFontSize(){this.text.style.fontSize=parseFloat(this.fontSize)+1+"px";this.probs++}decreaseFontSize(){this.text.style.fontSize=parseFloat(this.fontSize)-1+"px";this.probs++}resizeFont(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeFont"});this.makeFontSizeBigger();return}if(this.fontSize>this.maxFontSize){debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeFont"});this.makeFontSizeSmaller();return}if(this.text.scrollHeight<this.container.offsetHeight&&this.wordWrap){debugTable.push({message:"Increasing font size!",function:"resizeFont"});this.makeFontSizeBigger();return}if(this.text.scrollHeight>=this.container.offsetHeight&&this.wordWrap){debugTable.push({message:"Reducing font size!",function:"resizeFont"});this.makeFontSizeSmaller();return}if(this.text.scrollWidth<this.container.offsetWidth&&!this.wordWrap){debugTable.push({message:"Increasing font size!",function:"resizeFont"});this.makeFontSizeBigger();return}if(this.text.scrollWidth>=this.container.offsetWidth&&!this.wordWrap){debugTable.push({message:"Reducing font size!",function:"resizeFont"});this.makeFontSizeSmaller();return}}resizeToWidth(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeToWidth"});this.makeFontSizeBigger(1);return}if(this.fontSize>this.maxFontSize){debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeToWidth"});this.makeFontSizeSmaller(1);return}if(this.text.scrollWidth<this.container.offsetWidth){debugTable.push({message:"Increasing font size!",function:"resizeToWidth"});this.makeFontSizeBigger(1);return}if(this.text.scrollWidth>=this.container.offsetWidth){debugTable.push({message:"Reducing font size!",function:"resizeToWidth"});this.makeFontSizeSmaller(1);return}}resizeToHeight(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeToHeight"});this.makeFontSizeBigger(0);return}if(this.fontSize>this.maxFontSize){debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeToHeight"});this.makeFontSizeSmaller(0);return}if(this.text.scrollHeight<this.container.offsetHeight){debugTable.push({message:"Increasing font size!",function:"resizeToHeight"});this.makeFontSizeBigger(0);return}if(this.text.scrollHeight>=this.container.offsetHeight){debugTable.push({message:"Reducing font size!",function:"resizeToHeight"});this.makeFontSizeSmaller(0);return}}resizeToContainer(){this.fontSize=window.getComputedStyle(this.text).fontSize;if(this.fontSize<this.minFontSize){debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeToContainer"});this.makeFontSizeBigger();return}if(this.fontSize>this.maxFontSize){debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeToContainer"});this.makeFontSizeSmaller();return}if(this.text.scrollHeight<this.container.offsetHeight&&this.text.scrollWidth<this.container.offsetWidth){debugTable.push({message:"Increasing font size!",function:"resizeToContainer"});this.makeFontSizeBigger();return}if(this.text.scrollHeight>=this.container.offsetHeight&&this.text.scrollWidth>=this.container.offsetWidth){debugTable.push({message:"Reducing font size!",function:"resizeToContainer"});this.makeFontSizeSmaller();return}}makeFontSizeBigger(mode=2){if(this.probs>=this.maxProbs){debugTable.push({message:"Reached max probation count!",function:"makeFontSizeBigger"});return}this.fontSize=window.getComputedStyle(this.text).fontSize;if(parseFloat(this.fontSize)>=this.maxFontSize){debugTable.push({message:`Reached max font size ${this.maxFontSize}`,function:"makeFontSizeBigger"});return}if(this.text.scrollWidth<this.container.offsetWidth&&mode==0){debugTable.push({message:`Increasing font size because of width [fontSize|textWidth|containerWidth|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${mode}`,function:"makeFontSizeBigger"});this.increaseFontSize();this.makeFontSizeBigger(mode);return}if(this.text.scrollHeight<this.container.offsetHeight&&mode==1){debugTable.push({message:`Increasing font size because of height [fontSize|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${mode}`,function:"makeFontSizeBigger"});this.increaseFontSize();this.makeFontSizeBigger(mode);return}if(this.text.scrollWidth<this.container.offsetWidth&&this.text.scrollHeight<this.container.offsetHeight&&mode==2){debugTable.push({message:`Increasing font size because of width and height [fontSize|textWidth|containerWidth|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${mode}`,function:"makeFontSizeBigger"});this.increaseFontSize();this.makeFontSizeBigger(mode);return}}makeFontSizeSmaller(mode=2){if(this.probs>=this.maxProbs){debugTable.push({message:"Reached max probation count!",function:"makeFontSizeSmaller"});return}this.fontSize=window.getComputedStyle(this.text).fontSize;if(parseFloat(this.fontSize)<=this.minFontSize){debugTable.push({message:`Reached min font size ${this.maxFontSize}`,function:"makeFontSizeSmaller"});return}if(this.text.scrollWidth>=this.container.offsetWidth&&mode==0){debugTable.push({message:`Decreasing font size because of width [fontSize|textWidth|containerWidth|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${mode}`,function:"makeFontSizeSmaller"});this.decreaseFontSize();this.makeFontSizeSmaller(mode);return}if(this.text.scrollHeight>=this.container.offsetHeight&&mode==1){debugTable.push({message:`Decreasing font size because of height [fontSize|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${mode}`,function:"makeFontSizeSmaller"});this.decreaseFontSize();this.makeFontSizeSmaller(mode);return}if(this.text.scrollWidth>=this.container.offsetWidth||this.text.scrollHeight>=this.container.offsetHeight&&mode==2){debugTable.push({message:`Decreasing font size because of width and height [fontSize|textWidth|containerWidth|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${mode}`,function:"makeFontSizeSmaller"});this.decreaseFontSize();this.makeFontSizeSmaller(mode);return}}};