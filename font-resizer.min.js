var debugTable=[];function resizer(e,{minFontSize:t=12,maxFontSize:i=96,checkWidth:s=!1,checkHeight:o=!1,wordWrap:n=!1,resizer:h=!0,timeout:r=100,resize:a=1,maxProbs:g=300,debug:c=!1}={}){document.addEventListener("readystatechange",(f=>{runResizer(e,{minFontSize:t,maxFontSize:i,checkWidth:s,checkHeight:o,wordWrap:n,resizer:h,timeout:r,resize:a,maxProbs:g,debug:c})}))}function runResizer(e,{minFontSize:t=12,maxFontSize:i=96,checkWidth:s=!1,checkHeight:o=!1,wordWrap:n=!1,resizer:h=!0,timeout:r=100,resize:a=1,maxProbs:g=300,debug:c=!1}={}){try{var f=document.querySelectorAll(e)[0];if("complete"!==document.readyState&&!f)return void console.log("Page is not loaded yet");setTimeout((function(){if(("boolean"==typeof h?1==h:"true"==h)&&h){var r=(z=document.querySelectorAll(e)[0]).firstElementChild;if(z&&""!=z.innerText&&r&&""!=r.innerText){debugTable.push({message:"Start of script",function:"resizer"}),debugTable.push({message:z,function:"resizer"}),debugTable.push({message:r,function:"resizer"}),debugTable.push({message:`Before resize Container height: ${z.offsetHeight}`,function:"resizer"}),debugTable.push({message:`Before resize Text height: ${r.scrollHeight}`,function:"resizer"}),debugTable.push({message:`Before resize Container width: ${z.offsetWidth}`,function:"resizer"}),debugTable.push({message:`Before resize Text width: ${r.scrollWidth}`,function:"resizer"}),r.style="",n?r.style["word-wrap"]="normal":r.style["white-space"]="nowrap";var f=new Resizer;f.container=z,f.text=r,f.minFontSize=t,f.maxFontSize=i,f.wordWrap=n,f.checkWidth=s,f.checkHeight=o,f.maxProbs=g;for(var d=0;d<a;d++)debugTable.push({message:"Running resizer",function:"resizer"}),f.resizeToFit();r=(z=document.querySelectorAll(e)[0]).firstElementChild;var z,u=window.getComputedStyle(r).fontSize;(r.scrollHeight>=z.offsetHeight||r.scrollWidth>=z.offsetWidth)&&(f.fontSize=u,f.decreaseFontSize()),debugTable.push({message:`Final font size: ${u}`,function:"resizer"}),debugTable.push({message:`After resize Container height: ${z.offsetHeight}`,function:"resizer"}),debugTable.push({message:`After resize Text height: ${r.scrollHeight}`,function:"resizer"}),debugTable.push({message:`After resize Container width: ${z.offsetWidth}`,function:"resizer"}),debugTable.push({message:`After resize Text width: ${r.scrollWidth}`,function:"resizer"}),debugTable.push({message:z,function:"resizer"}),debugTable.push({message:r,function:"resizer"}),debugTable.push({message:"End of script",function:"resizer"}),c&&console.table(debugTable),debugTable=[]}}}),r)}catch(e){console.error("Error in font resizer:",e)}}var Resizer=class{container;text;minFontSize;maxFontSize;wordWrap;checkWidth;checkHeight;maxProbs;probs;fontSize;constructor(e,t,i,s,o,n,h,r){this.container=e,this.text=t,this.minFontSize=i,this.maxFontSize=s,this.wordWrap=o,this.checkWidth=n,this.checkHeight=h,this.maxProbs=r,this.probs=0}resizeToFit(){0!=this.text.offsetHeight&&0!=this.container.offsetHeight?(this.resizeFont(),this.probs>=this.maxProbs?debugTable.push({message:"Reached maximum probation number",function:"resizeToFit"}):(this.checkWidth&&!this.checkHeight&&this.resizeToWidth(),this.checkHeight&&!this.checkWidth&&this.resizeToHeight(),this.checkWidth&&this.checkHeight&&this.resizeToContainer())):debugTable.push({message:"Nothing to resize",function:"resizeToFit"})}increaseFontSize(){this.text.style.fontSize=parseFloat(this.fontSize)+1+"px",this.fontSize=window.getComputedStyle(this.text).fontSize,this.probs++}decreaseFontSize(){this.text.style.fontSize=parseFloat(this.fontSize)-1+"px",this.fontSize=window.getComputedStyle(this.text).fontSize,this.probs++}resizeFont(){return this.fontSize=window.getComputedStyle(this.text).fontSize,this.fontSize<this.minFontSize?(debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeFont"}),void this.makeFontSizeBigger()):this.fontSize>this.maxFontSize?(debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeFont"}),void this.makeFontSizeSmaller()):this.text.scrollHeight<this.container.offsetHeight&&this.wordWrap?(debugTable.push({message:"Increasing font size!",function:"resizeFont"}),void this.makeFontSizeBigger()):this.text.scrollHeight>=this.container.offsetHeight&&this.wordWrap?(debugTable.push({message:"Reducing font size!",function:"resizeFont"}),void this.makeFontSizeSmaller()):this.text.scrollWidth<this.container.offsetWidth&&!this.wordWrap?(debugTable.push({message:"Increasing font size!",function:"resizeFont"}),void this.makeFontSizeBigger()):this.text.scrollWidth>=this.container.offsetWidth&&!this.wordWrap?(debugTable.push({message:"Reducing font size!",function:"resizeFont"}),void this.makeFontSizeSmaller()):void 0}resizeToWidth(){return this.fontSize=window.getComputedStyle(this.text).fontSize,this.fontSize<this.minFontSize?(debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeToWidth"}),void this.makeFontSizeBigger(1)):this.fontSize>this.maxFontSize?(debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeToWidth"}),void this.makeFontSizeSmaller(1)):this.text.scrollWidth<this.container.offsetWidth?(debugTable.push({message:"Increasing font size!",function:"resizeToWidth"}),void this.makeFontSizeBigger(1)):this.text.scrollWidth>=this.container.offsetWidth?(debugTable.push({message:"Reducing font size!",function:"resizeToWidth"}),void this.makeFontSizeSmaller(1)):void 0}resizeToHeight(){return this.fontSize=window.getComputedStyle(this.text).fontSize,this.fontSize<this.minFontSize?(debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeToHeight"}),void this.makeFontSizeBigger(0)):this.fontSize>this.maxFontSize?(debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeToHeight"}),void this.makeFontSizeSmaller(0)):this.text.scrollHeight<this.container.offsetHeight?(debugTable.push({message:"Increasing font size!",function:"resizeToHeight"}),void this.makeFontSizeBigger(0)):this.text.scrollHeight>=this.container.offsetHeight?(debugTable.push({message:"Reducing font size!",function:"resizeToHeight"}),void this.makeFontSizeSmaller(0)):void 0}resizeToContainer(){return this.fontSize=window.getComputedStyle(this.text).fontSize,this.fontSize<this.minFontSize?(debugTable.push({message:"Increasing font size because it is smaller than min font size!",function:"resizeToContainer"}),void this.makeFontSizeBigger()):this.fontSize>this.maxFontSize?(debugTable.push({message:"Reducing font size because it is bigger than max font size!",function:"resizeToContainer"}),void this.makeFontSizeSmaller()):this.text.scrollHeight<this.container.offsetHeight&&this.text.scrollWidth<this.container.offsetWidth?(debugTable.push({message:"Increasing font size!",function:"resizeToContainer"}),void this.makeFontSizeBigger()):this.text.scrollHeight>=this.container.offsetHeight&&this.text.scrollWidth>=this.container.offsetWidth?(debugTable.push({message:"Reducing font size!",function:"resizeToContainer"}),void this.makeFontSizeSmaller()):void 0}makeFontSizeBigger(e=2){if(this.probs>=this.maxProbs)debugTable.push({message:"Reached max probation count!",function:"makeFontSizeBigger"});else{if(this.fontSize=window.getComputedStyle(this.text).fontSize,!(parseFloat(this.fontSize)>=this.maxFontSize))return this.text.scrollWidth<this.container.offsetWidth&&0==e?(debugTable.push({message:`Increasing font size because of width [fontSize|textWidth|containerWidth|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${e}`,function:"makeFontSizeBigger"}),this.increaseFontSize(),void this.makeFontSizeBigger(e)):this.text.scrollHeight<this.container.offsetHeight&&1==e?(debugTable.push({message:`Increasing font size because of height [fontSize|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${e}`,function:"makeFontSizeBigger"}),this.increaseFontSize(),void this.makeFontSizeBigger(e)):this.text.scrollWidth<this.container.offsetWidth&&this.text.scrollHeight<this.container.offsetHeight&&2==e?(debugTable.push({message:`Increasing font size because of width and height [fontSize|textWidth|containerWidth|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${e}`,function:"makeFontSizeBigger"}),this.increaseFontSize(),void this.makeFontSizeBigger(e)):void 0;debugTable.push({message:`Reached max font size ${this.maxFontSize}`,function:"makeFontSizeBigger"})}}makeFontSizeSmaller(e=2){if(this.probs>=this.maxProbs)debugTable.push({message:"Reached max probation count!",function:"makeFontSizeSmaller"});else{if(this.fontSize=window.getComputedStyle(this.text).fontSize,!(parseFloat(this.fontSize)<=this.minFontSize))return this.text.scrollWidth>=this.container.offsetWidth&&0==e?(debugTable.push({message:`Decreasing font size because of width [fontSize|textWidth|containerWidth|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${e}`,function:"makeFontSizeSmaller"}),this.decreaseFontSize(),void this.makeFontSizeSmaller(e)):this.text.scrollHeight>=this.container.offsetHeight&&1==e?(debugTable.push({message:`Decreasing font size because of height [fontSize|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${e}`,function:"makeFontSizeSmaller"}),this.decreaseFontSize(),void this.makeFontSizeSmaller(e)):this.text.scrollWidth>=this.container.offsetWidth||this.text.scrollHeight>=this.container.offsetHeight&&2==e?(debugTable.push({message:`Decreasing font size because of width and height [fontSize|textWidth|containerWidth|textHeight|containerHeight|mode]: ${this.fontSize} | ${this.text.scrollWidth} | ${this.container.offsetWidth} | ${this.text.scrollHeight} | ${this.container.offsetHeight} | ${e}`,function:"makeFontSizeSmaller"}),this.decreaseFontSize(),void this.makeFontSizeSmaller(e)):void 0;debugTable.push({message:`Reached min font size ${this.maxFontSize}`,function:"makeFontSizeSmaller"})}}};
